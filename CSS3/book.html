<html>
<head>
<script src="Call relative/jquery.js"></script>
<style>
.tag {
    border: 2px solid white;
    position: absolute;
    padding: 10px 60px;
    top: 90px;
    left: -80px;
    background: black;
    color: white;
    box-shadow: 0px 5px 5px black;
    transform-origin: 50% 50%;
    transform: rotate(-45deg);
}
.tag a {
    text-decoration: none;
    color: white;
}
.wrapper {
    width: 900px;
    height: 600px;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
}
.cover {
    width: 450px;
    height: 590px;
    background: #FF315F;
    position: absolute;
    right: 4;
    top: 0;
    border: 7px dotted white;
    transform-origin: 0% 50%;
    transform: rotateY(10deg);
    transition: all 1.5s,background 2s,z-index 2s step-end;
    perspective: 0px;
	z-index:1;
}
.cover:before {
    content: '';
    font-family: Arial;
    color: white;
    font-size: 70px;
    position: relative;
    top: 8%;
    left: 15%;
    transition: opacity 0.75s;
    opacity: 1;
}
.first-page,.second-page,.third-page {
    width: 464px;
    height: 600px;
    background: white;
    position: absolute;
    right: 0;
    top: 0;
    transform: rotateY(10deg);
    transform-origin: 0% 50%;
    transition: transform 2s,z-index 2s step-end;
    perspective: 0px;
    box-shadow: inset 10px 0px 40px -20px black;
    border: 1px solid #cccccc;
    border-left: none;
	z-index:1;
}
.svgContainer{
width: 464px;
height: 600px;
position: absolute;
right: 0;
top: 0;
z-index:2;
}
.third-page {
    box-shadow: 10px 5px 10px 0px #C5C5C5;
}
.first-page:before,.second-page:before,.third-page:before {
    content: '';
    width: 464px;
    height: 1px;
    position: absolute;
    box-shadow: 0px 40px #CCCCCC,0px 80px #CCCCCC,0px 120px #CCCCCC,0px 160px #CCCCCC,0px 200px #CCCCCC,0px 240px #CCCCCC,0px 280px #CCCCCC,0px 320px #CCCCCC,0px 360px #CCCCCC,0px 400px #CCCCCC,0px 440px #CCCCCC,0px 480px #CCCCCC,0px 520px #CCCCCC,0px 560px #CCCCCC;
}
.info {
    width: 1000px;
    margin: auto;
    display: block;
    text-align: center;
    position: relative;
    top: 40px;
    font-size: 28px;
    color: rgb(107, 107, 107);
}
.turn-forward{
transform:rotateY(-180deg) perspective(800px);
z-index:0;
}
.turn-backward{
transition:all 2s,z-index 2s step-start;
}
.cover.turn-forward{
background-color:#FFA6A6;
z-index:-1;
}
.stopAnim{
transition:none;
}
.hiddenElem{
visibility:hidden;
}

.drawPath{
transition:none;
}

.drawPath.animate{
transition:stroke-dashoffset 2s ease-in-out;
}
</style>
</head>
<body>
<div class="info">Click on the pages to turn them.</div>
<div class="wrapper">
<input id="control" type="checkbox" style="visibility:hidden;"/>
<div class="third-page"></div>
<div class="second-page"></div>
<div class="first-page"></div>
<div class="cover">

</div>
<div class="svgContainer">
<svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 581 98">
<path style="fill:none;stroke:deeppink;stroke-width=2" d="M100 100 L200 120 L300 100 L400 120" class="drawPath"/>
</svg>
</div>
<a id="turn_btn_forward" href="#" style="width:450px;height:600px;background:transparent;position:absolute;right:0;top:0;border:none;z-index:999"></a>
<a id="turn_btn_back" href="#" style="width:450px;height:600px;background:transparent;position:absolute;left:0;top:0;border:none;z-index:999"></a>
</div>

</body>
<script>
$(document).ready
(
function(){

var path = $('svg path');
var length = path[0].getTotalLength();
path.attr('class','drawPath');
path.css({'stroke-dashoffset':length,'stroke-dasharray':length});
path[0].getBoundingClientRect();
path.attr('class','drawPath animate');

$('.wrapper').css('transform','scale('+0.001*$(document).height()+')');
$(window).resize(function(){$('.wrapper').css('transform','scale('+0.001*$(document).height()+')')});
var i=0;
$('#turn_btn_forward').click(function()
{
     $('.svgContainer').removeClass('hiddenElem').addClass('hiddenElem');
	if(i==0)
	{
		$('.cover').removeClass('turn-backward').addClass('turn-forward');
	}
	else if(i==1)
	{
		$('.first-page').removeClass('turn-backward').addClass('turn-forward');
	}
	else
	{
		$('.second-page').removeClass('turn-backward').removeClass('stopAnim').addClass('turn-forward');
		setTimeout(function(){
		$('.second-page').addClass('stopAnim');
		$('.second-page').removeClass('turn-forward');
		},2000);
	}
	i++
	setTimeout(function(){drawFun(i);},500);
});
$('#turn_btn_back').click(function()
{
	$('.svgContainer').removeClass('hiddenElem').addClass('hiddenElem');;
	if(i==0)
	{
		console.log('no page to turn');
	}
	else if(i==1)
	{
		$('.cover').addClass('turn-backward').removeClass('turn-forward');
		i--;
	}
	else if(i==2)
	{
		$('.first-page').addClass('turn-backward').removeClass('turn-forward');
		i--;
	}
	else
	{
		$('.second-page').addClass('turn-forward');
		setTimeout(function(){
		$('.second-page').removeClass('stopAnim').addClass('turn-backward').removeClass('turn-forward');},0);
		i--;
	}
	setTimeout(function(){drawFun(i);},1000);
});
function drawFun(a){ 
if(i==0)
path.attr('d','M18.183,229.662c0,0,114.789-159.859,150-116.901 s59.86,162.675,105.634,147.183c45.774-15.493,63.381-182.971,100-154.514s-104.93,270.007-20.423,264.373 s123.24-104.226,116.197-154.93S381.564,72.62,424.521,55.718S421,7.126,353.395,22.62S211.141,142.338,218.183,83.887');
else if(i%5==4)
path.attr('d','M18.183,229.662c0,0,114.789-159.859,150-116.901 s59.86,162.675,105.634,147.183c45.774-15.493,63.381-182.971,100-154.514s-104.93,270.007-20.423,264.373 s123.24-104.226,116.197-154.93S381.564,72.62,424.521,55.718S421,7.126,353.395,22.62S211.141,142.338,218.183,83.887');
else if(i%5==3)
path.attr('d','M18.183,229.662c0,0,114.789-159.859,150-116.901 s59.86,162.675,105.634,147.183c45.774-15.493,63.381-182.971,100-154.514s-104.93,270.007-20.423,264.373 s123.24-104.226,116.197-154.93S381.564,72.62,424.521,55.718S421,7.126,353.395,22.62S211.141,142.338,218.183,83.887');
else if(i%5==2)
path.attr('d','M18.183,229.662c0,0,114.789-159.859,150-116.901 s59.86,162.675,105.634,147.183c45.774-15.493,63.381-182.971,100-154.514s-104.93,270.007-20.423,264.373 s123.24-104.226,116.197-154.93S381.564,72.62,424.521,55.718S421,7.126,353.395,22.62S211.141,142.338,218.183,83.887');
else if(i%5==1)
path.attr('d','M285.928,113.067c62.492,0,113.327,50.827,113.327,113.327c0,0.344-0.041,0.705-0.066,1.049  c-0.049,0.836-0.107,1.672-0.123,2.525l-0.426,17.133l17.159,0.065c41.53,0.115,75.313,34.005,75.313,75.535  c0,41.415-33.718,75.305-75.157,75.518l-3.664,0.016H104.977c-46.244-0.049-83.872-37.693-83.872-83.929  c0-35.825,22.806-67.714,56.737-79.356l9.444-3.229l1.664-9.838c4.115-24.282,24.97-41.907,49.588-41.907  c7.846,0,15.428,1.82,22.536,5.394l15.306,7.689l7.386-15.444C202.531,138.398,242.635,113.067,285.928,113.067 M285.928,96.277  c-51.778,0-96.358,30.315-117.303,74.092c-9.059-4.558-19.256-7.182-30.086-7.182c-33.233,0-60.762,24.184-66.14,55.893  C32.82,232.657,4.316,270.104,4.316,314.307c0,55.597,45.063,100.669,100.644,100.718h311.084v-0.016  c50.777-0.263,91.856-41.481,91.856-92.308c0-50.909-41.177-92.177-92.053-92.324c0.033-1.344,0.197-2.639,0.197-3.984  C416.044,154.532,357.79,96.277,285.928,96.277L285.928,96.277z');
else if(i%5==0)
path.attr('d','M18.183,229.662c0,0,114.789-159.859,150-116.901 s59.86,162.675,105.634,147.183c45.774-15.493,63.381-182.971,100-154.514s-104.93,270.007-20.423,264.373 s123.24-104.226,116.197-154.93S381.564,72.62,424.521,55.718S421,7.126,353.395,22.62S211.141,142.338,218.183,83.887');
else
path.attr('d','m64.5,200.5c2,0 62,-66 92,-50c30,16 28,97 99,70c71,-27 20,-98 72,-108c52,-10 92,113 146,100c54,-13 103,68 69,94c-34,26 -143,29 -150,-14c-7,-43 -7,-87 -39,-58');

$('.svgContainer').removeClass('hiddenElem');
var length = path[0].getTotalLength();
console.log(length);
path.attr('class','drawPath');
path.css({'stroke-dashoffset':length,'stroke-dasharray':length});
path[0].getBoundingClientRect();

setTimeout(function(){
path.attr('class','drawPath animate');
path.css({"stroke-dashoffset":"0px"});
},2);
}
});
</script>
</html>
